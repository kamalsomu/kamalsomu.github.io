{"version":3,"sources":["webpack:///./src/app/home/home.module.ts","webpack:///./src/app/home/home.page.html","webpack:///./src/app/home/home.page.scss","webpack:///./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      Ionic Blank\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n   <ion-button (click)=\\\"loginBtnClick()\\\">Login with Salesforce</ion-button>\\n   <ion-button (click)=\\\"getCodeFromLS()\\\">getCodeFromLS</ion-button>\\n\\n\\n   <!--\\n   <button ion-button (click)=\\\"openWithSystemBrowser('https://www.techiediaries.com')\\\">Open with System browser</button>\\n   <button ion-button (click)=\\\"openWithInAppBrowser('https://www.techiediaries.com')\\\">Open with In App browser</button>\\n   <button ion-button (click)=\\\"openWithCordovaBrowser('https://www.techiediaries.com')\\\">Open with Cordova browser</button>\\n\\n-->\\n   \\n  </div>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { InAppBrowser, InAppBrowserOptions, InAppBrowserEvent } from '@ionic-native/in-app-browser/ngx';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n  // that:any;\n  constructor(private theInAppBrowser: InAppBrowser, private http: HttpClient,private storage: Storage) {\n    // this.that=this;\n\n    console.log(\"cons called...\");\n  }\n\n  getURLParam(url, name) {\n\n\n    if (name = (new RegExp('[?&]' + encodeURIComponent(name) + '=([^&]*)')).exec(url))\n      return decodeURIComponent(name[1]);\n  }\n\n\n\n  appBrowserLoadStopEvent(event) {\n\n    console.log(\"appBrowserLoadStopEvent called.\");\n    /*\n    let OAUTH_SUCCESS_CALLBACK=\"https://siriusvoice.herokuapp.com/pages/oauth/success/callback\";\n\n\n    alert(event.type + ' - ' + event.url);\n    if (event.url.indexOf(OAUTH_SUCCESS_CALLBACK) > -1) {\n          var code = this.getURLParam(event.url, \"code\");\n          alert(\"got code\" + code);\n      }\n      */\n\n\n  }\n\n  loaderrorCallback(error) {\n    alert('Loading error: ' + error.message);\n  }\n\n  getCodeFromLS() {\n    // Or to get a key/value pair\n    this.storage.get('code').then((val) => {\n      alert(\"code from LS :\"+val);\n    });\n  }\n  loginBtnClick() {\n\n    try {\n      let that = this;\n\n\n\n      that.http.post(\"https://siriusvoice.herokuapp.com/auth/oauth/url/login\", \"\").subscribe((response: any) => {\n\n        alert(\"url ==\" + JSON.stringify(response));\n\n        let url = response.results;\n\n        var appInBrowser = window.open(url, '_blank', 'location=yes');\n\n\n\n        appInBrowser.addEventListener('loaderror', that.loaderrorCallback);\n\n\n        appInBrowser.addEventListener('loadstop', that.appBrowserLoadStopEvent);\n\n        appInBrowser.addEventListener('loadstart', function (event: InAppBrowserEvent) {\n\n\n\n          //setTimeout(function(){ alert(\"Hello\"); }, 3000);\n\n\n\n          let OAUTH_SUCCESS_CALLBACK = \"http://192.168.43.167/siriusvoice/index.html?code=\";\n\n\n          if (event.url.indexOf(OAUTH_SUCCESS_CALLBACK) > -1) {\n            alert(\"hii...\"+event.url);\n            var code = that.getURLParam(event.url, \"code\");\n            alert(\"code\" + code);\n\n            if(code!=\"\")\n            {\n              that.storage.set('code', code);\n              alert(\"code saved in local storage\");\n            }\n            // set a key/value\n          \n            appInBrowser.close();\n\n\n          }\n\n        });\n\n\n      });\n\n      //  let url = \"https://login.salesforce.com/services/oauth2/authorize?response_type=code&client_id=3MVG9d8..z.hDcPI3Wo20qCaLCGHp_fL_KuzDpKqdgUUFH3R4yGArt3tYOcxgJPsCYiwA1t20S2Oxk0Vm82ZD&redirect_uri=http://localhost:8100/oauth/success/callback&code_callback.jsp&state=mystate\";\n\n\n    }\n    catch (err) {\n      alert(\" err msg ==\" + err.message);\n    }\n\n  }\n}\n"],"sourceRoot":""}